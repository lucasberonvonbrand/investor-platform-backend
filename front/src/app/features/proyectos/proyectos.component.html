<div class="container">
  <div class="form-card">
    <div class="header">
      <img src="https://cdn-icons-png.flaticon.com/512/5956/5956592.png" alt="Proyect Logo" class="logo">
      <div class="user-icon">üë§</div>
    </div>
    <h2>Crear nuevo proyecto</h2>

    <form [formGroup]="projectForm" >
      <div class="form-group">
        <label for="projectTitle">Titulo del proyecto</label>
        <input type="text" id="projectTitle" placeholder="Enter project title" formControlName="title">
      </div>
      <div class="form-group">
        <label for="projectDescription">Descripci√≥n del proyecto</label>
        <textarea id="projectDescription" placeholder="Provide a detailed description of your project" formControlName="description"></textarea>
      </div>
      <div class="form-group">
        <label for="projectStatus">Estado</label>
        <select id="projectStatus" formControlName="status">
          <option value="" disabled selected>Seleccione un estado</option>
          <option value="IN_PROGRESS">En progreso</option>
          <option value="PENDING_FUNDING">Financiamiento pendiente</option>
          <option value="COMPLETED">Completado</option>
        </select>
      </div>
      <div class="form-group">
        <label for="projectObjective">**Objetivo**</label>
        <textarea id="projectObjective" placeholder="Define el objetivo del proyecto" formControlName="objective"></textarea>
      </div>
      <div class="form-group">
        <label for="startDate">**Fecha de Inicio Estimada**</label>
        <input type="date" id="startDate" formControlName="startDate">
      </div>
      <div class="form-group">
        <label for="endDate">**Fecha de Finalizaci√≥n Estimada**</label>
        <input type="date" id="endDate" formControlName="endDate">
      </div>
      <div class="form-group">
        <label for="creatorName">**Creador**</label>
        <input type="text" id="creatorName" placeholder="Nombre del creador" formControlName="creator">
      </div>
      <div class="form-group">
        <label>Subir archivos & Fotos</label>
        <div class="upload-section">
          <div class="drop-zone" (click)="fileInput.click()" (drop)="onFileDrop($event)" (dragover)="onDragOver($event)">
            <div class="drop-zone-content">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon">
                <path d="M16 11H8V8h8v3zm-4 7h-2v2h2v-2zm8 0h-2v2h2v-2zm-6 0h-2v2h2v-2zm-6 0h-2v2h2v-2zM4 18h2v2H4v-2zm0-4h2v2H4v-2zm0-4h2v2H4v-2zm0-4h2v2H4V6zm4 0h2v2H8V6zm4 0h2v2h-2V6zm4 0h2v2h-2V6zm4 0h2v2h-2V6zM6 4h12v2H6V4zm-2 0h2v2H4V4zm0 14h2v2H4v-2z"/>
              </svg>
              <p>Arrastre o haga click aqui para subir</p>
            </div>
            <input type="file" #fileInput (change)="onFileSelect($event)" multiple hidden>
          </div>
          <div class="file-preview">
            <p *ngIf="!selectedFile">File Preview</p>
            <img [src]="selectedFile.url" *ngIf="selectedFile" alt="Preview" class="preview-image">
          </div>
        </div>
      </div>
      <div class="actions">
        <button type="button" class="cancel-button">Cancelar</button>
        <button type="submit" class="create-button" [disabled]="!projectForm.valid" (click)="onSubmit()">Crear</button>
      </div>
    </form>
    
    <div class="loading-overlay" *ngIf="isLoading">
      <div class="loading-content">
        <h3>Creando proyecto...</h3>
        <p>Por favor espere mientras se procesa la informaci√≥n.</p>
        <div class="progress-bar">
          <div class="progress-bar-fill" [style.width]="progress + '%'"></div>
        </div>
        <p class="progress-text">{{ progress }}%</p>
      </div>
    </div>
  </div>
</div>