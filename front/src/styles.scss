/* Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== TEMA GLOBAL DE LA APLICACIÓN ===== */
:root {
  /* Paleta de Colores Moderna */
  --primary-color: #4f46e5; /* El violeta del chatbot (Indigo 600) */
  --primary-color-text: #ffffff; /* Texto para fondos primarios */

  --surface-ground: #f8f9fa; /* Fondo general de la página (gris muy claro) */
  --surface-section: #ffffff; /* Fondo para secciones como topbar, cards */
  --surface-card: #ffffff;
  --surface-hover: #f1f3f5; /* Color para hover sutil */
  --surface-border: #e9ecef; /* Bordes suaves */

  --text-color: #343a40; /* Texto principal (gris oscuro, no negro puro) */
  --text-color-secondary: #6c757d; /* Texto secundario (más claro) */

  /* Variables para el gradiente */
  --primary-gradient: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
}

/* Base mínima (no forzamos colores del tema) */
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
  background-color: var(--surface-ground); /* Aplicar el fondo general */
  color: var(--text-color); /* Aplicar el color de texto general */
}

/* Estilo global para todas las tarjetas de PrimeNG */
p-card .p-card {
  border-radius: 1rem; /* Bordes más redondeados */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--surface-border);
}

/* -------- (Opcional) helpers para tiles con Tailwind -------- */
@layer components {
  .tile {
    @apply flex items-center gap-3 p-4 rounded-xl;
  }
  .tile-icon { @apply grid place-items-center rounded-xl w-9 h-9 text-white; }
  .tile-value { @apply text-2xl font-bold; }
}

/* ====== (Opcional) Tema SUAVE para tablas, óptico pero sin romper PrimeNG ======
   Usalo sólo si querés un hover un poco más suave que el default.
   Para aplicarlo, envolvé tu tabla/p-table con <div class="pp-table">...</div>
*/
.pp-table {
  /* Tablas nativas */
  table { width: 100%; border-collapse: collapse; }
  thead th { font-weight: 600; }

  /* PrimeNG p-table: apenas ajustamos hover/alt rows sin tocar colores del theme */
  .p-datatable .p-datatable-tbody > tr:nth-child(even) { 
    background: color-mix(in oklab, var(--surface-card, #fff), #000 3%);
  }
  .p-datatable .p-datatable-tbody > tr:hover {
    background: color-mix(in oklab, var(--surface-card, #fff), #000 5%) !important;
  }
  .p-datatable .p-datatable-tbody > tr.p-highlight:hover {
    background: inherit !important; /* mantiene el seleccionado del theme */
  }
}
/* ===== Hover animado para filas (nativas + PrimeNG) ===== */
/* Funciona sin romper el tema y sin tocar colores del theme */
.pp-table {
  /* Nativas */
  tbody tr > td {
    position: relative;               /* para la barrita */
    transition: background .18s ease, box-shadow .18s ease;
    will-change: background, box-shadow;
  }

  /* color de hover muy sutil; ajusta el 5% si querés más/menos */
  tbody tr:hover > td {
    background: color-mix(in oklab, var(--surface-card, #fff), #000 5%);
    box-shadow: inset 0 1px 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05);
    z-index: 1;                        /* eleva visualmente la fila */
  }

  /* barrita izquierda de acento en la 1ra celda */
  tbody tr:hover > td:first-child::before {
    content: "";
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 3px;
    background: var(--primary-color, #2d86ff);
    border-top-left-radius: 2px;
    border-bottom-left-radius: 2px;
  }

  /* PrimeNG p-table */
  .p-datatable .p-datatable-tbody > tr > td {
    position: relative;
    transition: background .18s ease, box-shadow .18s ease;
    will-change: background, box-shadow;
  }
  .p-datatable .p-datatable-tbody > tr:hover > td {
    background: color-mix(in oklab, var(--surface-card, #fff), #000 5%) !important;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05);
    z-index: 1;
  }
  .p-datatable .p-datatable-tbody > tr:hover > td:first-child::before {
    content: "";
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 3px;
    background: var(--primary-color, #2d86ff);
    border-top-left-radius: 2px;
    border-bottom-left-radius: 2px;
  }

  /* Mantiene el color del seleccionado del theme, pero suma el énfasis */
  .p-datatable .p-datatable-tbody > tr.p-highlight:hover > td {
    background: inherit !important;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.08), inset 0 -1px 0 rgba(0,0,0,.08);
  }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .pp-table tbody tr > td,
  .pp-table .p-datatable .p-datatable-tbody > tr > td {
    transition: none !important;
  }
}

/* ===== Colores de Foco para Formularios de Registro ===== */
/* Estudiantes (azul) */
app-student-form .p-inputtext:focus {
  border-color: #3b82f6; /* blue-500 */
  box-shadow: 0 0 0 1px #3b82f6;
}

/* Inversores (púrpura) */
app-investor-form .p-inputtext:focus {
  border-color: #a855f7; /* purple-500 */
  box-shadow: 0 0 0 1px #a855f7;
}
